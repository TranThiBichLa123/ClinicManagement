<UserControl x:Class="ClinicManagement.SidebarItems.Setting"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ClinicManagement.SidebarItems"
             mc:Ignorable="d" 
             xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisConverter" />
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
        </Grid.RowDefinitions>
        <TabControl Background="Transparent" Margin="0"
            x:Name="TabControl_Setting"
            SelectedItem="{Binding SelectedItem_LazyCodet}">
            <TabControl.Resources>
                <Style TargetType="TabItem">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border Name="Border" BorderThickness="1,1,1,0" BorderBrush="Gainsboro" CornerRadius="4,4,0,0" Margin="2,0">
                                    <ContentPresenter x:Name="ContentSite"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Center"
                                ContentSource="Header"
                                Margin="10,2"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="LightSkyBlue"  />
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="False">
                                        <Setter TargetName="Border" Property="Background" Value="GhostWhite" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </TabControl.Resources>

            <TabItem Header="Phân quyền" IsSelected="True" >
                <Grid Background="Transparent" Grid.Column="2" Grid.ColumnSpan="2">
                    <!-- Main section -->
                    <Border x:Name="borderMainContent" CornerRadius="0,0,20,20" >
                        <Border.Background>
                            <LinearGradientBrush StartPoint="1, 0" EndPoint="0, 1">
                                <GradientStop Color="White" Offset="0"/>
                                <GradientStop Color="Silver" Offset="1.5"/>
                            </LinearGradientBrush>
                        </Border.Background>

                        <Grid>
                            <Grid.RowDefinitions>
                                <!-- Hàng 1: Tìm kiếm và các nút -->
                                <RowDefinition Height="auto"/>
                                <!-- Hàng 2: Bảng thuốc -->
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="0 0 30 25">
                                <Button Content="🔧 Sửa" Style="{StaticResource topMenuButton}" Click="btnEditRole_Click"/>
                                <Button Content="❌ Xóa" Style="{StaticResource topMenuButton}" />
                            </StackPanel>



                            <!-- DataGrid -->
                            <DataGrid Grid.Row="1" 
          RowStyle="{DynamicResource DataGridRowStyle1}"
          ColumnHeaderStyle="{DynamicResource DataGridColumnHeaderStyle1}"
          CellStyle="{DynamicResource DataGridCellStyle1}"
          x:Name="roleDataGrid"
                                Style="{DynamicResource DataGridStyle1}"
          Margin="10,10,10,10">
                                <!-- Thêm margin để không dính sát -->
                                <DataGrid.Columns>
                                    <DataGridCheckBoxColumn   Binding="{Binding IsSelected, Mode=TwoWay}" Header="Chọn" CanUserResize="False" Width="auto" ElementStyle="{StaticResource CheckBoxStyle1}">
                                        <DataGridCheckBoxColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <CheckBox Style="{StaticResource CheckBoxStyle1}"   />
                                            </DataTemplate>
                                        </DataGridCheckBoxColumn.HeaderTemplate>
                                    </DataGridCheckBoxColumn>



                                    <DataGridTextColumn Header="Mã quyền" Binding="{Binding ID_VaiTro}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Tên nhóm quyền" Binding="{Binding TenVaiTro}" IsReadOnly="True" Width="*"/>

                                </DataGrid.Columns>
                            </DataGrid>

                        </Grid>
                    </Border>
                </Grid>
            </TabItem>
            <TabItem Header="Tài khoản">
                <Grid Background="Transparent" Grid.Column="2" Grid.ColumnSpan="2">
                    <!-- Main section -->
                    <Border x:Name="accountMainContent" CornerRadius="0,0,20,20" >
                        <Border.Background>
                            <LinearGradientBrush StartPoint="1, 0" EndPoint="0, 1">
                                <GradientStop Color="White" Offset="0"/>
                                <GradientStop Color="Silver" Offset="1.5"/>
                            </LinearGradientBrush>
                        </Border.Background>

                        <Grid>
                            <Grid.RowDefinitions>
                                <!-- Hàng 1: Tìm kiếm và các nút -->
                                <RowDefinition Height="Auto"/>
                                <!-- Hàng 2: Bảng thuốc -->
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="0 0 30 25">
                                <Button Content="➕ Thêm" Style="{StaticResource topMenuButton}"/>
                                <Button Content="❌ Xóa" Style="{StaticResource topMenuButton}" />
                                <Button Content="🔧 Sửa" Style="{StaticResource topMenuButton}"/>
                            </StackPanel>
                            <!-- DataGrid -->
                            <DataGrid Grid.Row="1" 
RowStyle="{DynamicResource DataGridRowStyle1}"
ColumnHeaderStyle="{DynamicResource DataGridColumnHeaderStyle1}"
CellStyle="{DynamicResource DataGridCellStyle1}"
x:Name="accountDataGrid"
                      Style="{DynamicResource DataGridStyle1}"
>
                                <!-- Thêm margin để không dính sát -->
                                <DataGrid.Columns>
                                    <DataGridCheckBoxColumn   Binding="{Binding IsSelected, Mode=TwoWay}" Header="Chọn" CanUserResize="False" Width="auto" ElementStyle="{StaticResource CheckBoxStyle1}">
                                        <DataGridCheckBoxColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <CheckBox Style="{StaticResource CheckBoxStyle1}"   />
                                            </DataTemplate>
                                        </DataGridCheckBoxColumn.HeaderTemplate>
                                    </DataGridCheckBoxColumn>
                                    <DataGridTextColumn Header="Mã tài khoản" Binding="{Binding ID_TaiKhoan}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Mã vai trò" Binding="{Binding ID_VaiTro}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Trạng thái" Binding="{Binding TrangThai}" IsReadOnly="True" Width="*"/>

                                </DataGrid.Columns>
                            </DataGrid>
                            <!-- Xuất thuốc -->





                        </Grid>
                    </Border>
                </Grid>
            </TabItem>
            <TabItem Header="Nhân viên">
                <Grid Background="Transparent" Grid.Column="2" Grid.ColumnSpan="2">
                    <!-- Main section -->
                    <Border x:Name="staffMainContent" CornerRadius="0,0,20,20" >
                        <Border.Background>
                            <LinearGradientBrush StartPoint="1, 0" EndPoint="0, 1">
                                <GradientStop Color="White" Offset="0"/>
                                <GradientStop Color="Silver" Offset="1.5"/>
                            </LinearGradientBrush>
                        </Border.Background>

                        <Grid>
                            <Grid.RowDefinitions>
                                <!-- Hàng 1: Tìm kiếm và các nút -->
                                <RowDefinition Height="auto"/>
                                <!-- Hàng 2: Bảng thuốc -->
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="0 0 30 25">
                                <Button Content="➕ Thêm" Style="{StaticResource topMenuButton}"/>
                                <Button Content="❌ Xóa" Style="{StaticResource topMenuButton}" />
                                <Button Content="🔧 Sửa" Style="{StaticResource topMenuButton}"/>
                            </StackPanel>

                         <DataGrid 
RowStyle="{DynamicResource DataGridRowStyle1}"
ColumnHeaderStyle="{DynamicResource DataGridColumnHeaderStyle1}"
CellStyle="{DynamicResource DataGridCellStyle1}"
x:Name="staffDataGrid"

Style="{DynamicResource DataGridStyle1}"
Margin="10,10,10,-53" Grid.Row="1">
                                <!-- Thêm margin để không dính sát -->
                                <DataGrid.Columns>
                                    <DataGridCheckBoxColumn   Binding="{Binding IsSelected, Mode=TwoWay}" Header="Chọn" CanUserResize="False" Width="auto" ElementStyle="{StaticResource CheckBoxStyle1}">
                                        <DataGridCheckBoxColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <CheckBox Style="{StaticResource CheckBoxStyle1}"   />
                                            </DataTemplate>
                                        </DataGridCheckBoxColumn.HeaderTemplate>
                                    </DataGridCheckBoxColumn>

                                    <DataGridTextColumn Header="Mã nhân viên" IsReadOnly="True" CanUserResize="False" Width="auto" Binding="{Binding ID_NhanVien}"/>
                                    <DataGridTemplateColumn Header="Họ tên" IsReadOnly="True" Width="*">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Ellipse Width="35" Height="35" Margin="0 0 10 0">
                                                        <Ellipse.Fill>
                                                            <ImageBrush ImageSource="{Binding HinhAnh}" Stretch="UniformToFill"/>
                                                        </Ellipse.Fill>
                                                    </Ellipse>

                                                    <!-- Hiển thị tên thuốc -->
                                                    <TextBlock Text="{Binding HoTenNV}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                              
                                    <DataGridTextColumn Header="Ngày sinh" Binding="{Binding NgaySinh}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Giới tính" Binding="{Binding GioiTinh}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="CCCD" Binding="{Binding CCCD}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Điện thoại" Binding="{Binding DienThoai}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Địa chỉ" Binding="{Binding DiaChi}" Foreground="#FF5252" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Vai trò" Binding="{Binding ID_VaiTro}" IsReadOnly="True" Width="*"/>
                                    <DataGridTextColumn Header="Trạng thái" Binding="{Binding TrangThai}" IsReadOnly="True" Width="*"/>

                                </DataGrid.Columns>
                            </DataGrid>
                            <!-- Xuất thuốc -->






                        </Grid>
                    </Border>
                </Grid>
            </TabItem>

        </TabControl>
        <StackPanel Grid.Row="1" Orientation="Horizontal"/>
    </Grid>
</UserControl>
